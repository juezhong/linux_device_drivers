i2c 设备在 Linux 主要被分为：
1. i2c 控制器（适配器、总线）驱动，针对 soc 的控制器
2. i2c 设备驱动，针对具体的传感器、外设

其中 i2c 适配器驱动就是 soc 的 i2c 控制器驱动，
而 i2c 设备驱动就是针对具体的传感器、外设的驱动，需要用户根据不同的设备去编写。

i2c 控制器驱动（i2c 适配器、总线驱动）：
1. i2c 控制器驱动主要负责与硬件通信，通过 i2c 控制器与 i2c 设备进行数据传输。
2. i2c 控制器驱动通常需要实现 i2c 接口函数，如 i2c_transfer、i2c_smbus_xfer 等。
3. i2c 控制器驱动通常需要实现 i2c 控制器的初始化、中断处理、电源管理等。
4. 这部分代码通常有生产芯片的半导体厂商提供并完成，因为芯片内部包含了 i2c 控制器，所以代码必须由他们完成。
5. 这部分代码通常在内核中实现，如 i2c-core.c、i2c-dev.c 等。
6. 涉及的部分结构体主要有 i2c_adapter、i2c_algorithm 等。

i2c 设备驱动：
1. 涉及的部分结构体主要有 i2c_client、i2c_driver 等。
2. i2c_client 结构体表示 i2c 设备，包含了设备地址、设备名称等信息。
3. i2c_driver 结构体表示 i2c 设备驱动，包含了驱动名称、设备匹配函数、探测函数、移除函数等信息。
4. i2c 设备驱动主要负责与 i2c 控制器驱动进行通信，通过 i2c 控制器驱动与 i2c 设备进行数据传输。
